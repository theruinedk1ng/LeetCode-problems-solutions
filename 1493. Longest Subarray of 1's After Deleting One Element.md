1493. Longest Subarray of 1's After Deleting One Element

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var longestSubarray = function(nums) {

    const n = nums.length
    let l = 0, ones = 0, result = 0, zeros = 0

    for(let r = 0; r < n; r += 1){
        result = Math.max(result, ones)

        if(nums[r] === 0)
            zeros += 1
        else
            ones += 1
        
        while(zeros >= 2){
            if(nums[l] === 0)
                zeros -= 1
            else
                ones -= 1

            l += 1
        }
    }

    if(zeros === 0)
        return n - 1

    result = Math.max(result, ones)

    return result
    
};
```

```py
class Solution:
    def longestSubarray(self, nums: List[int]) -> int:
        
        n = len(nums)
        freq = Counter(nums)
        if freq[0] == 0:
            return n - 1

        result = l = zeros = right = ones = 0

        for r in range(n):
            result = max(result, ones)

            if nums[r] == 0:
                zeros += 1
            else:
                ones += 1
            
            while zeros >= 2:
                if nums[l] == 0:
                    zeros -= 1
                else:
                    ones -= 1
                l += 1
        
        result = max(ones, result)
        
        return result
```
