166. Fraction to Recurring Decimal

```js
/**
 * @param {number} numerator
 * @param {number} denominator
 * @return {string}
 */
var fractionToDecimal = function(numerator, denominator) {
    if (denominator === 0) {
        throw new Error("Denominator cannot be zero");
    }

    let result = "";

    // Handle sign
    if (numerator * denominator < 0) {
        result += "-";
    }

    numerator = Math.abs(numerator);
    denominator = Math.abs(denominator);

    // Get integer part
    let integerPart = Math.floor(numerator / denominator);
    let remainder = numerator % denominator;

    result += integerPart;

    // If no remainder, return the result as is
    if (remainder === 0) return result;

    result += "."; // Add decimal point

    // Map to store remainders and their positions
    const remainderMap = new Map();

    while (remainder !== 0) {
        if (remainderMap.has(remainder)) {
        // Insert parentheses
        const idx = remainderMap.get(remainder);
        result = result.slice(0, idx) + "(" + result.slice(idx) + ")";
        break;
        }

        remainderMap.set(remainder, result.length);

        remainder *= 10;
        const digit = Math.floor(remainder / denominator);
        remainder = remainder % denominator;

        result += digit;
    }

    return result;
};
```

```py
class Solution:
    def fractionToDecimal(self, numerator: int, denominator: int) -> str:
        
        if numerator == 0:
            return '0'
        
        sign = '-' if (numerator * denominator) < 0 else ''
        numerator, denominator = abs(numerator), abs(denominator)

        integer_part, remainder = divmod(numerator, denominator)
        result = [sign + str(integer_part)]

        if remainder == 0:
            return ''.join(result)

        result.append('.')

        remainder_map = {}

        while remainder:
            if remainder in remainder_map:
                idx = remainder_map[remainder]
                print(idx)
                result.insert(idx, "(")
                print(result)
                result.append(")")
                break

            remainder_map[remainder] = len(result)
            remainder *= 10
            digit, remainder = divmod(remainder, denominator)
            result.append(str(digit))

        return "".join(result)
```
